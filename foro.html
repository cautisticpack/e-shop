<!-- foro.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Foro</title>
  <style>
    :root{
      --bg:#000;
      --header-height:48px;
      --header-expanded:88px;
      --transition:300ms cubic-bezier(.2,.9,.3,1);
      --text-color:#fff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background:var(--bg);
      color:#fff;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    }
    .page{min-height:100vh;padding-top:120px;} /* dejamos espacio para header */
    .header-wrap{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      top:16px;
      z-index:1000;
      width:90%;
      max-width:1100px;
      pointer-events:none;
    }
    header.header{
      pointer-events:auto;
      height:var(--header-height);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 18px;
      overflow:hidden;
      position:relative;
      box-shadow:0 6px 20px rgba(0,0,0,.45);
      transition:height var(--transition),box-shadow var(--transition),padding var(--transition);
    }
    header.header img.header-img{
      position:absolute;
      top:0;left:0;width:100%;height:100%;
      object-fit:cover;
      z-index:-1;
    }
    header.header.expanded{
      height:var(--header-expanded);
      padding:12px 22px;
      box-shadow:0 12px 30px rgba(0,0,0,.55);
    }
    .brand{
      font-weight:700;
      letter-spacing:.3px;
      font-size:24px;
      color:var(--text-color);
      -webkit-text-stroke: 1.5px black;
      text-shadow:0 1px 3px rgba(0,0,0,.7);
      cursor:pointer;
    }
    nav.nav{
      display:flex;
      gap:18px;
      align-items:center;
      opacity:0;
      transform:translateY(-6px);
      transition:opacity 220ms ease,transform 220ms ease;
    }
    header.header.expanded nav.nav,
    header.header:hover nav.nav{
      opacity:1;
      transform:translateY(0);
    }
    nav.nav a{
      text-decoration:none;
      color:var(--text-color);
      font-weight:600;
      font-size:20px;
      -webkit-text-stroke: 1px black;
      text-shadow:0 1px 3px rgba(0,0,0,.7);
    }

    /* Estilos del foro/chat */
    .chat-container{
      max-width:700px;
      margin:0 auto;
      background:rgba(255,255,255,0.03);
      border-radius:12px;
      padding:20px;
      box-shadow:0 4px 12px rgba(0,0,0,.4);
    }
    .chat-box{
      background:#111;
      border:2px solid #333;
      border-radius:10px;
      width:100%;
      height:50vh;
      overflow-y:auto;
      padding:10px;
      margin-bottom:10px;
    }
    .chat-message{
      margin:5px 0;
      padding:6px 8px;
      background:#222;
      border-radius:6px;
    }
    .chat-input{
      display:flex;
      width:100%;
    }
    .chat-input input{
      flex:1;
      padding:10px;
      border:none;
      border-radius:8px 0 0 8px;
      outline:none;
      font-size:16px;
    }
    .chat-input button{
      background:#ff0000;
      color:white;
      border:none;
      padding:10px 15px;
      border-radius:0 8px 8px 0;
      cursor:pointer;
      font-weight:bold;
    }
  </style>
</head>
<body>

  <div class="header-wrap">
    <header class="header" id="siteHeader" aria-label="Encabezado principal">
      <img src="loscaballeros.jpg" alt="Caballeros" class="header-img">
      <div class="brand" onclick="window.location.href='index.html'">Mi Tienda</div>
      <nav class="nav">
        <a href="index.html#accesorios">Accesorios</a>
        <a href="foro.html">Foro</a>
        <a href="index.html#juegos">Juegos</a>
      </nav>
    </header>
  </div>

  <main class="page">
    <section class="chat-container">
      <h1 style="text-align:center;">Foro / Chat</h1>
      <div class="chat-box" id="chatBox"></div>
      <div class="chat-input">
        <input type="text" id="messageInput" placeholder="Escribe un mensaje...">
        <button onclick="sendMessage()">Enviar</button>
      </div>
    </section>
  </main>

  <script>
    const header = document.getElementById('siteHeader');
    header.addEventListener('mouseenter', () => header.classList.add('expanded'));
    header.addEventListener('mouseleave', () => {
      if (window.scrollY !== 0) header.classList.remove('expanded');
    });
    function checkScrollTop() {
      if (window.scrollY === 0) {
        header.classList.add('expanded');
      } else {
        header.classList.remove('expanded');
      }
    }
    window.addEventListener('scroll', checkScrollTop, {passive:true});
    window.addEventListener('load', checkScrollTop);

    // LÃ³gica del chat
    const chatBox = document.getElementById('chatBox');
    const input = document.getElementById('messageInput');

    function sendMessage(){
      const text = input.value.trim();
      if(text){
        const div = document.createElement('div');
        div.classList.add('chat-message');
        div.textContent = text;
        chatBox.appendChild(div);
        chatBox.scrollTop = chatBox.scrollHeight;
        input.value = '';
      }
    }
    input.addEventListener('keypress', e => {
      if(e.key === 'Enter'){ sendMessage(); }
    });
  </script>
</body>
</html>
